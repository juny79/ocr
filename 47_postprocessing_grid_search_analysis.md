# Post-processing Parameter Grid Search Analysis

## μ‹¤ν— κ°μ”

**λ©ν‘**: ν›„μ²λ¦¬ νλΌλ―Έν„°(thresh, box_thresh) μµμ ν™”λ¥Ό ν†µν• λ¦¬λ”λ³΄λ“ μ μ ν–¥μƒ

**λ² μ΄μ¤λΌμΈ**: thresh=0.231, box_thresh=0.432, H-Mean=0.9851

**κ·Έλ¦¬λ“ μ„μΉ λ²”μ„**:
- 1μ°¨: thresh [0.225, 0.230, 0.235, 0.240] Γ— box_thresh [0.425, 0.430, 0.435, 0.440] = 16κ° μ΅°ν•©
- 2μ°¨: thresh [0.210, 0.215, 0.220, 0.225, 0.230] Γ— box_thresh [0.400, 0.405, 0.410, 0.415, 0.420, 0.425, 0.430, 0.435] = 40κ° μ΅°ν•©
- **μ΄ 56κ° submission νμΌ μƒμ„±**

---

## λ¦¬λ”λ³΄λ“ μ μ¶ κ²°κ³Ό

### μ μ¶ μ΄λ ¥

| Submission ID | thresh | box_thresh | H-Mean | Precision | Recall | μμ„ |
|--------------|--------|------------|--------|-----------|--------|------|
| 55 | 0.240 | 0.440 | 0.9846 | 0.9855 | 0.9841 | 5μ„ |
| 56 | 0.225 | 0.425 | **0.9853** | 0.9854 | 0.9856 | **1μ„** |
| 57 | 0.230 | 0.425 | 0.9849 | 0.9851 | 0.9851 | 4μ„ |
| 58 | 0.220 | 0.420 | **0.9853** | 0.9853 | 0.9857 | **1μ„** |

### μ£Όμ” λ°κ²¬

**1. thresh μν–¥**
- thresh κ°μ† β†’ μ„±λ¥ ν–¥μƒ κ²½ν–¥
- 0.240: 0.9846
- 0.230: 0.9849 (+0.0003)
- 0.225: 0.9853 (+0.0004)
- 0.220: 0.9853 (μ μ§€)
- **μµμ  λ²”μ„**: 0.220 ~ 0.225

**2. box_thresh μν–¥**
- box_thresh κ°μ† β†’ μ„±λ¥ ν–¥μƒ κ²½ν–¥
- 0.440: 0.9846
- 0.425: 0.9853 (+0.0007)
- 0.420: 0.9853 (μ μ§€)
- **μµμ  λ²”μ„**: 0.420 ~ 0.425

**3. μ„±λ¥ κ°μ„ **
- λ² μ΄μ¤λΌμΈ(0.231/0.432): 0.9851
- ν„μ¬ μµκ³ (0.225/0.425, 0.220/0.420): 0.9853
- **κ°μ„ ν­**: +0.0002 (+0.02%)

---

## ν¨ν„΄ λ¶„μ„

### νΈλ λ“

```
thresh β†“ (λ‚®μ•„μ§μλ΅) β†’ H-Mean β†‘ (ν–¥μƒ)
box_thresh β†“ (λ‚®μ•„μ§μλ΅) β†’ H-Mean β†‘ (ν–¥μƒ)
```

### ννΈλ§µ (μμƒ)

```
             box_thresh
           0.420  0.425  0.430  0.440
thresh 
0.220      0.9853  ?      ?      ?
0.225      ?      0.9853  ?      ?
0.230      ?      0.9849  ?      ?
0.240      ?      ?      ?     0.9846
```

### μµμ  κµ¬κ°„ μ¶”μ •

- **thresh μ¤‘μ‹¬**: 0.220 (λ²”μ„: 0.215 ~ 0.225)
- **box_thresh μ¤‘μ‹¬**: 0.422 (λ²”μ„: 0.415 ~ 0.425)
- **μµμ  μ΅°ν•© μμƒ**: 0.220/0.422 λλ” 0.218/0.420

---

## λ‹¤μ μ‹¤ν— μ¶”μ²

### π¥‡ μµμ°μ„  (1-3λ²)

**κ°€μ„¤**: 0.220κ³Ό 0.225 μ‚¬μ΄, 0.420κ³Ό 0.425 μ‚¬μ΄μ— μµμ κ°’ μ΅΄μ¬

1. **submission_t0.220_bt0.425.csv**
   - μ΄μ : 0.220/0.420μ΄ 0.9853 β†’ 0.425λ΅ μ¬λ ¤μ„ λΉ„κµ
   - μμƒ: 0.9853 ~ 0.9854

2. **submission_t0.220_bt0.415.csv**
   - μ΄μ : box_threshλ¥Ό λ” λ‚®μ¶°μ„ μ¶”κ°€ κ°μ„  κ°€λ¥μ„± ν™•μΈ
   - μμƒ: 0.9853 ~ 0.9854

3. **submission_t0.225_bt0.420.csv**
   - μ΄μ : 0.225/0.425μ™€ 0.220/0.420 μ¤‘κ°„κ°’
   - μμƒ: 0.9853 (μµμ† λ™μ )

### π¥ μ°¨μμ„ (4-6λ²)

**κ°€μ„¤**: threshλ¥Ό λ” λ‚®μ¶”λ©΄ μ¶”κ°€ κ°μ„  κ°€λ¥

4. **submission_t0.215_bt0.420.csv**
   - μ΄μ : threshλ¥Ό 0.005 λ” λ‚®μ¶¤
   - μμƒ: 0.9852 ~ 0.9854

5. **submission_t0.215_bt0.425.csv**
   - μ΄μ : 0.215/0.420κ³Ό λΉ„κµ
   - μμƒ: 0.9852 ~ 0.9854

6. **submission_t0.215_bt0.415.csv**
   - μ΄μ : 0.215 λ²”μ„ μµμ  box_thresh νƒμƒ‰
   - μμƒ: 0.9852 ~ 0.9854

### π¥‰ 3μμ„ (7-9λ²)

**κ°€μ„¤**: κ·Ήν•κ°’ ν…μ¤νΈ - 0.215λ³΄λ‹¤ λ‚®μΌλ©΄ κ³Όλ„ν• κ²€μ¶

7. **submission_t0.210_bt0.420.csv**
   - μ΄μ : thresh ν•ν•μ„  ν™•μΈ
   - μμƒ: 0.9850 ~ 0.9853 (κ°μ„  κ°€λ¥μ„± λ‚®μ)

8. **submission_t0.210_bt0.425.csv**
   - μ΄μ : 0.210 λ²”μ„ ν™•μΈ
   - μμƒ: 0.9850 ~ 0.9853

9. **submission_t0.220_bt0.410.csv**
   - μ΄μ : box_thresh ν•ν•μ„  ν™•μΈ
   - μμƒ: 0.9851 ~ 0.9853

### π”¬ μ‹¤ν—μ  (10λ²)

10. **submission_t0.225_bt0.430.csv**
    - μ΄μ : μ—­λ°©ν–¥ ν…μ¤νΈ (0.425λ³΄λ‹¤ λ†’μ€ κ²½μ°)
    - μμƒ: 0.9852 (0.9853λ³΄λ‹¤ λ‚®μ„ κ°€λ¥μ„±)

---

## μμƒ κ²°κ³Ό λ° μ „λµ

### μ‹λ‚λ¦¬μ¤ 1: μ¶”κ°€ κ°μ„  λ°κ²¬ (70% ν™•λ¥ )

**μμƒ**: 1-3λ² μ¤‘ ν•λ‚κ°€ 0.9854 μ΄μƒ λ‹¬μ„±

- **μ΅°μΉ**: ν•΄λ‹Ή νλΌλ―Έν„° μ£Όλ³€μΌλ΅ μ„Έλ°€ν• κ·Έλ¦¬λ“ μ„μΉ
- **λ²”μ„**: thresh Β±0.002, box_thresh Β±0.002
- **λ©ν‘**: H-Mean 0.9855+ λ‹¬μ„±

### μ‹λ‚λ¦¬μ¤ 2: μµμ κ°’ ν™•μΈ (25% ν™•λ¥ )

**μμƒ**: 0.9853μ΄ μµμ κ°’, μ¶”κ°€ κ°μ„  μ—†μ

- **μ΅°μΉ**: 
  1. ν„μ¬ μµμ  νλΌλ―Έν„°(0.220/0.420 λλ” 0.225/0.425) ν™•μ •
  2. K-Fold μ•™μƒλΈ”λ΅ μ„±λ¥ ν–¥μƒ μ¶”κµ¬
  3. λ¨λΈ μ•„ν‚¤ν…μ² κ°μ„  νƒμƒ‰

### μ‹λ‚λ¦¬μ¤ 3: μ„±λ¥ μ €ν• (5% ν™•λ¥ )

**μμƒ**: thresh/box_threshλ¥Ό λ” λ‚®μ¶”λ©΄ μ¤νλ ¤ μ„±λ¥ ν•λ½

- **μ΅°μΉ**: 0.220/0.420μ„ μµμΆ… νλΌλ―Έν„°λ΅ ν™•μ •

---

## μ‹¤ν— μ°μ„ μμ„ μ”μ•½

**λΉ λ¥Έ κ²€μ¦ (1-3λ² λ¨Όμ € μ μ¶)**:
1. submission_t0.220_bt0.425.csv
2. submission_t0.220_bt0.415.csv  
3. submission_t0.225_bt0.420.csv

**κ²°κ³Ό ν™•μΈ ν›„**:
- 0.9854+ λ°κ²¬ μ‹ β†’ ν•΄λ‹Ή λ²”μ„ λ―Έμ„Έ μ΅°μ •
- 0.9853 μ μ§€ μ‹ β†’ 4-6λ² κ³„μ† μ§„ν–‰
- 0.9852 μ΄ν• μ‹ β†’ μ‹¤ν— μ¤‘λ‹¨, K-Foldλ΅ μ „ν™

---

## κΈ°μ μ  λ°°κ²½

### Differentiable Binarization (DB) Post-processing

**thresh**: Probability mapμ„ binary mapμΌλ΅ λ³€ν™ν•λ” μ„κ³„κ°’
- λ‚®μ„μλ΅: λ” λ§μ€ ν…μ¤νΈ μμ—­ κ²€μ¶ (λ―Όκ°λ„ μ¦κ°€)
- λ†’μ„μλ΅: ν™•μ‹¤ν• μμ—­λ§ κ²€μ¶ (μ •λ°€λ„ μ¦κ°€)

**box_thresh**: μµμΆ… κ²½κ³„ λ°•μ¤ ν•„ν„°λ§ μ„κ³„κ°’
- λ‚®μ„μλ΅: λ” λ§μ€ λ°•μ¤ μ¶λ ¥ (recall μ¦κ°€)
- λ†’μ„μλ΅: λ†’μ€ μ‹ λΆ°λ„ λ°•μ¤λ§ μ¶λ ¥ (precision μ¦κ°€)

### ν„μ¬ λ°μ΄ν„°μ…‹ νΉμ„±

- **ν•™μµ λ°μ΄ν„°**: 4,698μ¥ (μ›λ³Έ 3,272 + SROIE 626 + CORD-v2 800)
- **λ¨λΈ**: HRNet-W44 1024px
- **νΉμ§•**: μ™Έλ¶€ λ°μ΄ν„°μ…‹ μ¶”κ°€λ΅ μΌλ°ν™” μ„±λ¥ ν–¥μƒ
- **κ²½ν–¥**: λ‚®μ€ threshold β†’ Recall ν–¥μƒ β†’ H-Mean ν–¥μƒ

---

## κ²°λ΅ 

1. **ν›„μ²λ¦¬ νλΌλ―Έν„° μµμ ν™” ν¨κ³Ό ν™•μΈ**
   - thresh 0.231β†’0.220: H-Mean +0.0002
   - box_thresh 0.432β†’0.420: H-Mean +0.0002
   - λ―Έμ„Έν•μ§€λ§ μλ―Έμλ” κ°μ„ 

2. **μ¶”κ°€ κ°μ„  κ°€λ¥μ„±**
   - 0.220/0.420 μ£Όλ³€μ— μµμ κ°’ μ΅΄μ¬ μμƒ
   - λ―Έμ„Έ μ΅°μ •μΌλ΅ 0.9854+ λ‹¬μ„± κ°€λ¥

3. **λ‹¤μ λ‹¨κ³„**
   - μ¶”μ² νμΌ μμ°¨ μ μ¶ (1β†’3β†’2 μμ„)
   - κ²°κ³Ό κΈ°λ΅ λ° ν¨ν„΄ μ¬λ¶„μ„
   - μµμ κ°’ ν™•μ • ν›„ K-Fold μ•™μƒλΈ” μ§„ν–‰

---

## νμΌ μ„μΉ

- **Submission νμΌ**: `grid_search_submissions_low/submission_t{thresh}_bt{box_thresh}.csv`
- **κ·Έλ¦¬λ“ μ„μΉ κ²°κ³Ό**: `grid_search_results/grid_search_low_20260209_*.json`
- **λ¶„μ„ λ¦¬ν¬νΈ**: `3_postprocessing_grid_search_analysis.md` (λ³Έ νμΌ)

---

**μ‘μ„±μΌ**: 2026-02-09  
**μ‘μ„±μ**: GitHub Copilot  
**μ‹¤ν— λ‹¨κ³„**: Post-processing Parameter Optimization
